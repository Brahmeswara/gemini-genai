Given the business entities and its attributes, generate an openapi spec for 
get list of all books
creating a new book
fetching an existing book by title.
Note: book name and title are used interchangably
editing an existing book

add validations and its error handling
use openapi spec 3.0.1

production url is https://lms.com/books
qa url is https://qa.lms.com/books
"""
-- Drop tables if exist
DROP TABLE IF EXISTS RENTAL_TRANSACTIONS CASCADE;
DROP TABLE IF EXISTS CUSTOMERS CASCADE;
DROP TABLE IF EXISTS VENDORS CASCADE;
DROP TABLE IF EXISTS BOOKS CASCADE;
DROP TABLE IF EXISTS PUBLISHERS CASCADE;

-- Create PUBLISHERS table
CREATE TABLE PUBLISHERS (
    ID INT NOT NULL AUTO_INCREMENT,
    NAME VARCHAR(255) NOT NULL,
    ADDRESS VARCHAR(255),
    PHONE VARCHAR(20),
    EMAIL VARCHAR(50),
    PRIMARY KEY (ID)
);

-- Create BOOKS table
CREATE TABLE BOOKS (
    ID INT NOT NULL AUTO_INCREMENT,
    TITLE VARCHAR(255) NOT NULL,
    AUTHOR VARCHAR(255),
    PUBLISHER INT NOT NULL,
    "YEAR-OF-PUBLICATION" INT,
    ISBN VARCHAR(20) UNIQUE,
    PRICE DECIMAL(7,2) NOT NULL,
    "QUANTITY-IN-STOCK" INT DEFAULT 0,
    "QUANTITY-AVAILABLE" INT DEFAULT 0,
    PRIMARY KEY (ID),
    FOREIGN KEY (PUBLISHER) REFERENCES PUBLISHERS(ID)
);

-- Create VENDORS table
CREATE TABLE VENDORS (
    ID INT NOT NULL AUTO_INCREMENT,
    NAME VARCHAR(255) NOT NULL,
    ADDRESS VARCHAR(255),
    PHONE VARCHAR(20),
    EMAIL VARCHAR(50),
    PRIMARY KEY (ID)
);

-- Create CUSTOMERS table
CREATE TABLE CUSTOMERS (
    ID INT NOT NULL AUTO_INCREMENT,
    NAME VARCHAR(255) NOT NULL,
    ADDRESS VARCHAR(255),
    PHONE VARCHAR(20),
    EMAIL VARCHAR(50),
    "SUBSCRIPTION-AMOUNT" DECIMAL(7,2),
    "SUBSCRIPTION-START-DATE" DATE,
    "SUBSCRIPTION-END-DATE" DATE,
    PRIMARY KEY (ID)
);

-- Create RENTAL_TRANSACTIONS table
CREATE TABLE RENTAL_TRANSACTIONS (
    ID INT NOT NULL AUTO_INCREMENT,
    "CUSTOMER-ID" INT NOT NULL,
    "BOOK-ID" INT NOT NULL,
    "RENTAL-DATE" DATE,
    "RETURN-DATE" DATE,
    "FINE-AMOUNT" DECIMAL(7,2),
    PRIMARY KEY (ID),
    FOREIGN KEY ("CUSTOMER-ID") REFERENCES CUSTOMERS(ID),
    FOREIGN KEY ("BOOK-ID") REFERENCES BOOKS(ID)
);
"""
